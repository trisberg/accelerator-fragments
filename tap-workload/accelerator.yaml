accelerator:
  displayName: TAP Workload

engine:
  merge:
  - include: [ "config/workload.yaml" ]
    chain:
    - type: OpenRewriteRecipe
      recipe: org.openrewrite.yaml.ChangeValue
      options:
        oldKeyPath: '"$.spec.source.git.ref.branch"'
        value: "#gitBranch"
    - type: OpenRewriteRecipe
      recipe: org.openrewrite.yaml.ChangeValue
      options:
        oldKeyPath: '"$.spec.source.git.url"'
        value: "#gitRepository"
    # - type: ReplaceText
    #   substitutions:
    #   - text: "https://github.com/sample-accelerators/spring-cloud-function.git"
    #     with: "'https://github.com/trisberg/' + #artifactId"
